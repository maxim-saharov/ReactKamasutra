"use strict";(self.webpackChunkmy_app1=self.webpackChunkmy_app1||[]).push([[172],{4172:function(t,s,e){e.r(s),e.d(s,{default:function(){return B}});var r=e(1413),i=e(5671),o=e(3144),n=e(136),a=e(3668),u=e(2791),p="ProfileInfo_photoBlock__HpWgz",l="ProfileInfo_descriptionBlock__rQo20",c="ProfileInfo_userPhoto__wxBp2",h=e(5739),d=e(885),f=e(184),x=function(t){var s=(0,u.useState)(!1),e=(0,d.Z)(s,2),r=e[0],i=e[1],o=(0,u.useState)(t.status),n=(0,d.Z)(o,2),a=n[0],p=n[1];(0,u.useEffect)((function(){p(t.status)}),[t.status]);return(0,f.jsxs)("div",{children:[!r&&(0,f.jsx)("div",{children:(0,f.jsx)("span",{onDoubleClick:function(){i(!0)},children:t.status})}),r&&(0,f.jsx)("div",{children:(0,f.jsx)("input",{autoFocus:!0,onBlur:function(){i(!1),t.updateStatus(a)},onChange:function(t){p(t.currentTarget.value)},value:a})})]})},v=e(8478),j=function(t){if(!t.profile)return(0,f.jsx)(h.Z,{});var s="photo_".concat(t.profile.userId);return(0,f.jsxs)("div",{children:[(0,f.jsx)("div",{className:p,children:(0,f.jsx)("img",{src:"https://html5css.ru/css/img_forest.jpg",alt:"photo555"})}),(0,f.jsxs)("div",{className:l,children:[(0,f.jsx)("img",{src:null!==t.profile.photos.large?t.profile.photos.large:v,className:c,alt:s}),"...Avatar + description \u0438 userId_ ",t.profile.userId,(0,f.jsx)(x,{status:t.status,updateStatus:t.updateStatus})]})]})},m=e(7581),g=e(6070),P=e(2982),_="MyPosts_postsBlock__tpHam",S="MyPosts_posts__sKDcq",y="MyPosts_text_h3__wvADx",Z="Post_item__C5ylc",k=function(t){return(0,f.jsxs)("div",{className:Z,children:[(0,f.jsx)("img",{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQ4AuCaCDS8eeLRXGL0pFD9cIddYuHc8AJoSA&usqp=CAU",alt:"Post-illustration"}),"... ",t.value,(0,f.jsxs)("div",{children:["Like ",t.likesCount]})]})},C=e(5705),w=e(132),A=e(5304),I=function(t){var s=w.Ry().shape({newPostText:w.Z_().min(2,"Must be longer than 2 characters !").max(5,"Must be shorter than 5 characters !").required("Required !")});return(0,f.jsx)(C.J9,{initialValues:{newPostText:""},validationSchema:s,onSubmit:function(s,e){var r=e.resetForm;!function(s){t.addPost(s)}(s.newPostText),r({values:""})},children:function(){return(0,f.jsxs)(C.l0,{children:[(0,f.jsx)("div",{children:(0,f.jsx)(C.gN,{name:"newPostText",as:"textarea",placeholder:"enter text 1"})}),(0,f.jsx)(C.Bc,{name:"newPostText",children:A.Y}),(0,f.jsx)("button",{type:"submit",children:"Add posts"})]})}})},M=function(t){var s=(0,P.Z)(t.posts).reverse().map((function(t){return(0,f.jsx)(k,{value:t.message,likesCount:t.likesCount},t.id)}));return(0,f.jsxs)("div",{className:_,children:[(0,f.jsx)("h3",{className:y,children:"My posts:"}),(0,f.jsx)(I,{addPost:t.addPost}),(0,f.jsx)("div",{className:S,children:s})]})},b=(0,m.$j)((function(t){return{posts:t.profilePage.posts}}),(function(t){return{addPost:function(s){t((0,g.Wl)(s))}}}))(M),N=function(t){(0,n.Z)(e,t);var s=(0,a.Z)(e);function e(){return(0,i.Z)(this,e),s.apply(this,arguments)}return(0,o.Z)(e,[{key:"render",value:function(){return(0,f.jsxs)("div",{children:[(0,f.jsx)(j,{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus}),(0,f.jsx)(b,{})]})}}]),e}(u.Component),U=N,D=e(819),T=e(7781),q=function(t){(0,n.Z)(e,t);var s=(0,a.Z)(e);function e(t){var r;return(0,i.Z)(this,e),(r=s.call(this,t)).state={isShowMyProfile:!0},r}return(0,o.Z)(e,[{key:"componentDidMount",value:function(){var t=+this.props.router.params.userId,s=this.props.authorisedUserId;t?(this.props.getUserProfile(t),this.props.getStatus(t)):this.props.isAuth&&(this.props.getUserProfile(s),this.props.getStatus(s))}},{key:"componentDidUpdate",value:function(t,s,e){var r=+this.props.router.params.userId,i=this.props.authorisedUserId;this.state.isShowMyProfile&&(r===i&&this.setState({isShowMyProfile:!1}),!r&&this.props.isAuth&&(this.props.getUserProfile(i),this.props.getStatus(i),this.setState({isShowMyProfile:!1})))}},{key:"render",value:function(){return this.props.isAuth||this.props.router.params.userId?(0,f.jsx)("div",{children:(0,f.jsx)(U,(0,r.Z)((0,r.Z)({},this.props),{},{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus}))}):(0,f.jsx)(D.Fg,{to:"/login"})}}]),e}(u.Component);var B=(0,T.qC)((function(t){return function(s){var e=(0,D.TH)(),i=(0,D.s0)(),o=(0,D.UO)();return(0,f.jsx)(t,(0,r.Z)((0,r.Z)({},s),{},{router:{location:e,navigate:i,params:o}}))}}),(0,m.$j)((function(t){return{profile:t.profilePage.profile,status:t.profilePage.status,authorisedUserId:t.auth.id,isAuth:t.auth.isAuth}}),{getUserProfile:g.et,getStatus:g.lR,updateStatus:g.Nf}))(q)}}]);
//# sourceMappingURL=172.50fe1081.chunk.js.map